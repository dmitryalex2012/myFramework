class ProductServices

    public function getProductsByCategory ($category)
    {
        return Products::findByCategory($category);
    }



class Products extends ActiveRecord
{
    /**
     * Find all products from specified category
     *
     * @param $category
     * @return array|ActiveRecord[]
     * @throws InvalidConfigException
     */
    public static function findByCategory($category)
    {
        return static::find()->where(['categories' => $category])->all();
    }



class ActiveRecord extends BaseActiveRecord
{
    public static function find()
    {
        return Yii::createObject(ActiveQuery::className(), [get_called_class()]);
    }




class ActiveQuery extends Query implements ActiveQueryInterface
{
    public function __construct($modelClass, $config = [])
    {
        $this->modelClass = $modelClass;
        parent::__construct($config);
    }